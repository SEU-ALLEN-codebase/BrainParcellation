# Auto-tracing for 200K neurons

### Data and codes
#### Local repository: /PB/SEU-ALLEN/Users/Sujun/230k_organized_folder
```
|-- 230k_organized_folder/
    |-- app2/                       # Reconstructions (`SWC` generated by APP2) [all, ~230K]
    |-- v3dpbd/                     # Soma-centered image blocks (1024x1024x256 voxel**3) [all, 230K]
    |-- mip/                        # MIP image of blocks (in `TIF`) [all, ~230K]
    |-- mip_swc/                    # MIP image with reconstruction overlaid [all, ~230K]
    |-- pruned_pre_registered/      # Post-processed reconstructions (`SWC`). [~200K]
    |-- 179k_CCFv3_25um_raw/        # Filtered reconstructions (`SWC`), in isotropic 25um CCFv3 space. [179K]
    |-- cropped_100um/              # Spherically cropped reconstructions, with radius = 100um [~?]
    |-- Code
        |-- filter.py               # Image preprocessing and enhancing script
        |-- filter-job.sh           # Job schedular for `filter.py`
        |-- recon-job.sh            # Batch runner of APP2 tracing
        |-- soma_finder.py          # Script for soma position extraction
        |-- prune-job.sh            # Script for morphology pruning (e.g., short segments, multifurcations, errorous
        |                           #   with small angles)
        |-- seg_prune.py            # Pruning methods
    |-- supp.csv                    # Meta information of brains
    |-- analysis
        |-- comparison_with_1891.py # script for comparison with gold standard dataset [1876]
        |-- gf_179k_crop.csv        # L-measure(22 features) table for r=100um cropped sphere
        |-- gf_1891_crop.csv        
```

### Reconstruction Examples (2D image)
<div class="1" align='center'>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/5442_14806_6648.png" width=200/><b>  <b/>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/20606_13002_4069.png" width=200/><b>  <b/>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/25289_11528_2577.png" width=200/><b>  <b/>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/6751_18738_5413.png" width=200/>
</div>
<div class="2" align='center'>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/6077_10193_5771.png" width=200/><b>  <b/>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/11328_6883_7989.png" width=200/><b>  <b/>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/5697_4203_6212.png" width=200/><b>  <b/>
    <img src="https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/4772_16245_7343.png" width=200/>
</div>


### Characteristic Distribution compared with 1876(gold standard) dataset
#### Pearson correlation between whole faeture matrix(22 features) : 0.56
##### Comment: Average parent-daughter ratio of 1891 dataset is 1.0
![image](https://github.com/SEU-ALLEN-codebase/BrainParcellation/blob/main/data/reconstruction/figures/1891_comparison.png)
